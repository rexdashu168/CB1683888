<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rexå¤§å”168 CBç³»çµ± v5.2å®Œæ•´ç‰ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .rex-home {
            max-width: 800px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .rex-header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 40px 20px;
            text-align: center;
            color: white;
        }
        .rex-logo { font-size: 4em; margin-bottom: 15px; }
        .rex-title { font-size: 1.8em; font-weight: 700; margin-bottom: 10px; }
        .rex-subtitle { font-size: 1em; opacity: 0.95; margin-bottom: 15px; }
        .rex-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
        }
        .stats-row { display: flex; gap: 10px; padding: 20px; overflow-x: auto; }
        .stat-card {
            flex: 1;
            min-width: 160px;
            background: white;
            border-radius: 15px;
            padding: 20px 15px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .stat-icon { font-size: 2.5em; margin-bottom: 10px; }
        .stat-label { font-size: 0.85em; color: #666; margin-bottom: 8px; }
        .stat-value { font-size: 1.6em; font-weight: 700; color: #667eea; }
        .search-area { padding: 0 20px 20px; }
        .search-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .search-card-title { font-size: 1.3em; font-weight: 600; color: #1e3c72; margin-bottom: 20px; }
        .search-input-group { position: relative; margin-bottom: 20px; }
        .search-input {
            width: 100%;
            padding: 15px 60px 15px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1.05em;
        }
        .search-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }
        .chip {
            background: white;
            padding: 10px 18px;
            border-radius: 20px;
            display: inline-block;
            margin: 5px;
            cursor: pointer;
            border: 1px solid #e0e0e0;
        }
        .rex-footer { margin-top: auto; padding: 30px 20px; text-align: center; color: white; opacity: 0.9; }
        .detail-screen { display: none; max-width: 800px; margin: 0 auto; background: #f5f5f5; min-height: 100vh; }
        .detail-screen.active { display: block; }
        .detail-header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .detail-back {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 15px;
        }
        .detail-title-area { display: flex; justify-content: space-between; align-items: center; }
        .detail-main-title { font-size: 1.6em; font-weight: 700; }
        .detail-subtitle { font-size: 0.9em; opacity: 0.9; margin-top: 5px; }
        .detail-price { font-size: 1.8em; font-weight: 700; }
        .detail-content { padding: 15px; }
        .tab-nav { background: white; display: flex; border-radius: 12px; margin-bottom: 15px; }
        .tab-btn {
            flex: 1;
            padding: 15px;
            border: none;
            background: white;
            font-weight: 600;
            cursor: pointer;
            color: #666;
            font-size: 0.95em;
        }
        .tab-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .info-card { background: white; border-radius: 12px; padding: 20px; margin-bottom: 15px; }
        .card-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #1e3c72;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        .info-row { display: flex; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
        .info-row:last-child { border-bottom: none; }
        .info-label { flex: 0 0 120px; font-weight: 600; color: #555; font-size: 0.95em; }
        .info-value { flex: 1; color: #333; font-size: 0.95em; }
        .time-range-btns { display: flex; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
        .time-btn {
            padding: 8px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 0.9em;
        }
        .time-btn.active { background: #667eea; color: white; border-color: #667eea; }
        .chart-container { width: 100%; height: 450px; position: relative; }
        .chart-box { width: 100% !important; height: 100% !important; }
        .highlight-green { color: #52c41a; font-weight: 600; }
        .highlight-blue { color: #1890ff; font-weight: 600; }
        .highlight-orange { color: #ff9800; font-weight: 600; }
        .highlight-purple { color: #9c27b0; font-weight: 600; }
        .info-highlight {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
        .info-highlight-title { font-weight: 600; color: #856404; margin-bottom: 8px; font-size: 1.05em; }
    </style>
</head>
<body>
    <div id="home" class="rex-home">
        <div class="rex-header">
            <div class="rex-logo">ğŸ“ˆ</div>
            <h1 class="rex-title">Rexå¤§å”168<br>CBæ™ºèƒ½æŸ¥è©¢ç³»çµ±</h1>
            <p class="rex-subtitle">å°ˆæ³¨é¢¨éšª â€¢ æ•¸æ“šé©…å‹• â€¢ æ™ºèƒ½åˆ†æ<br>æ•´åˆ13å¹´+æ­·å² â€¢ 2,232æª”å®Œæ•´è³‡æ–™åº«</p>
            <div class="rex-badge">ğŸ¯ v5.2 å®Œæ•´ç‰ˆ</div>
        </div>
        
        <div class="stats-row">
            <div class="stat-card"><div class="stat-icon">ğŸ“Š</div><div class="stat-label">æ­·å²è³‡æ–™æœŸé–“</div><div class="stat-value">13å¹´+</div></div>
            <div class="stat-card"><div class="stat-icon">ğŸ’</div><div class="stat-label">CBASè³‡æ–™ç«™</div><div class="stat-value">174æœˆ</div></div>
            <div class="stat-card"><div class="stat-icon">ğŸ¯</div><div class="stat-label">å¯æŸ¥è©¢CB</div><div class="stat-value">2,232æª”</div></div>
            <div class="stat-card"><div class="stat-icon">ğŸ”¨</div><div class="stat-label">ç«¶æ‹çµ±è¨ˆ</div><div class="stat-value">297æª”</div></div>
        </div>
        
        <div class="search-area">
            <div class="search-card">
                <div class="search-card-title">ğŸ” è¼¸å…¥CBä»£è™ŸæŸ¥è©¢</div>
                <div class="search-input-group">
                    <input type="text" class="search-input" id="cbInput" placeholder="è«‹è¼¸å…¥CBä»£è™Ÿï¼Œä¾‹å¦‚: 37074" onkeypress="if(event.key==='Enter') searchCB()">
                    <button class="search-btn" onclick="searchCB()">æŸ¥è©¢</button>
                </div>
                <div style="background:#f8f9fa;padding:15px;border-radius:10px;">
                    <div style="font-size:0.9em;font-weight:600;color:#555;margin-bottom:10px;">ğŸ’¡ å¿«é€Ÿç¯„ä¾‹</div>
                    <div class="chip" onclick="quickSearch('37074')">37074 æ¼¢ç£Šå››</div>
                </div>
            </div>
        </div>
        
        <div class="rex-footer">
            <strong>Rexå¤§å”çš„æŠ•è³‡ç†å¿µ</strong><br>
            <small style="margin-top:10px;display:block;">å°ˆæ³¨æ–¼é¢¨éšªï¼Œä¸è¿½æ±‚å ±é…¬<br>å¾æ•¸æ“šä¸­å­¸ç¿’ï¼Œç”¨æ™ºæ…§æŠ•è³‡</small>
            <small style="margin-top:15px;display:block;opacity:0.8;">Â© 2025 Rexå¤§å”168 â€¢ v5.2</small>
        </div>
    </div>
    
    <div id="detail" class="detail-screen">
        <div class="detail-header">
            <button class="detail-back" onclick="backToHome()">â† è¿”å›</button>
            <div class="detail-title-area">
                <div><div class="detail-main-title">æ¼¢ç£Šå›› (37074)</div><div class="detail-subtitle">æ¨™çš„: æ¼¢ç£Š (3707) â€¢ åŠå°é«”æ¥­</div></div>
                <div class="detail-price">101.47</div>
            </div>
        </div>
        
        <div class="detail-content">
            <div class="tab-nav">
                <button class="tab-btn active" onclick="switchTab('basic')">åŸºæœ¬è³‡æ–™</button>
                <button class="tab-btn" onclick="switchTab('chart')">CBèµ°å‹¢</button>
                <button class="tab-btn" onclick="switchTab('cbas')">CBASèµ°å‹¢</button>
            </div>
            
            <div id="tab-basic" class="tab-content active">
                <!-- ç”¢æ¥­å®šä½ -->
                <div class="info-highlight">
                    <div class="info-highlight-title">ğŸ­ ç”¢æ¥­å®šä½</div>
                    <div style="color:#555;line-height:1.6;">ä¸­å°å‹æ™¶åœ“ä»£å·¥èˆ‡ç£Šæ™¶ä¾›æ‡‰å•†</div>
                </div>
                
                <!-- åŸºæœ¬è³‡è¨Š -->
                <div class="info-card">
                    <div class="card-title">ğŸ“‹ åŸºæœ¬è³‡è¨Š</div>
                    <div class="info-row"><div class="info-label">CBä»£è™Ÿ</div><div class="info-value"><span class="highlight-blue">37074</span></div></div>
                    <div class="info-row"><div class="info-label">è‚¡ç¥¨ä»£è™Ÿ</div><div class="info-value">3707 æ¼¢ç£Š</div></div>
                    <div class="info-row"><div class="info-label">ç”¢æ¥­åˆ†é¡</div><div class="info-value">åŠå°é«”æ¥­</div></div>
                    <div class="info-row"><div class="info-label">è‚¡æœ¬è¦æ¨¡</div><div class="info-value"><span class="highlight-orange">33.3å„„å…ƒ</span></div></div>
                    <div class="info-row"><div class="info-label">ç™¼è¡Œæ–¹å¼</div><div class="info-value"><span class="highlight-purple">ç«¶æ‹</span></div></div>
                    <div class="info-row"><div class="info-label">æ‰¿éŠ·åˆ¸å•†</div><div class="info-value">å‡±åŸºè­‰åˆ¸</div></div>
                </div>
                
                <!-- ç™¼è¡Œæ¢ä»¶ -->
                <div class="info-card">
                    <div class="card-title">ğŸ’° ç™¼è¡Œæ¢ä»¶</div>
                    <div class="info-row"><div class="info-label">ç™¼è¡Œè¦æ¨¡</div><div class="info-value"><span class="highlight-blue">10å„„å…ƒ</span></div></div>
                    <div class="info-row"><div class="info-label">ç™¼è¡Œåƒ¹æ ¼</div><div class="info-value"><span class="highlight-orange">124.85å…ƒ</span></div></div>
                    <div class="info-row"><div class="info-label">è½‰æ›åƒ¹æ ¼</div><div class="info-value"><span class="highlight-blue">118.8å…ƒ</span></div></div>
                    <div class="info-row"><div class="info-label">è¨‚åƒ¹æº¢åƒ¹ç‡</div><div class="info-value"><span class="highlight-green">+2.5%</span></div></div>
                    <div class="info-row"><div class="info-label">ç™¼è¡Œå¹´æœŸ</div><div class="info-value">3å¹´</div></div>
                    <div class="info-row"><div class="info-label">åˆ°æœŸé‚„æœ¬</div><div class="info-value">100å…ƒ</div></div>
                    <div class="info-row"><div class="info-label">æ“”ä¿éŠ€è¡Œ</div><div class="info-value"><span class="highlight-green">âœ“ ç¬¬ä¸€éŠ€è¡Œ</span></div></div>
                </div>
                
                <!-- é‡è¦æ—¥æœŸ -->
                <div class="info-card">
                    <div class="card-title">ğŸ“… é‡è¦æ—¥æœŸ</div>
                    <div class="info-row"><div class="info-label">è‘£äº‹æœƒå…¬å‘Š</div><div class="info-value">2022-02-14</div></div>
                    <div class="info-row"><div class="info-label">ä»£æ”¶åƒ¹æ¬¾å…¬å‘Š</div><div class="info-value">2022-03-16</div></div>
                    <div class="info-row"><div class="info-label">ç«¶æ‹æ—¥æœŸ</div><div class="info-value"><span class="highlight-purple">3/21-3/23</span></div></div>
                    <div class="info-row"><div class="info-label">æ›ç‰Œæ—¥æœŸ</div><div class="info-value">2022-04-07</div></div>
                    <div class="info-row"><div class="info-label">CBASæ‹†è§£</div><div class="info-value">2022-04-14</div></div>
                    <div class="info-row"><div class="info-label">åˆ°æœŸæ—¥æœŸ</div><div class="info-value"><span class="highlight-orange">2025-04-07</span></div></div>
                </div>
                
                <!-- è³£å›æ¢æ¬¾ -->
                <div class="info-card">
                    <div class="card-title">ğŸ”„ è³£å›æ¢æ¬¾</div>
                    <div class="info-row"><div class="info-label">è³£å›æ—¥æœŸ</div><div class="info-value"><span class="highlight-green">2025-04-07</span></div></div>
                    <div class="info-row"><div class="info-label">æŠ•è³‡äººæ¬Šåˆ©</div><div class="info-value">2022-04-14èµ·å¯æå‰è³£å›</div></div>
                    <div class="info-row"><div class="info-label">è³£å›æ¢ä»¶</div><div class="info-value">YTM(3)=(0%)</div></div>
                </div>
            </div>
            
            <div id="tab-chart" class="tab-content">
                <div class="info-card">
                    <div class="card-title">ğŸ“ˆ CBåƒ¹æ ¼èµ°å‹¢ (å«æˆäº¤é‡)</div>
                    <div class="time-range-btns">
                        <button class="time-btn" onclick="changeRange('cb', 3)">3å€‹æœˆ</button>
                        <button class="time-btn" onclick="changeRange('cb', 6)">6å€‹æœˆ</button>
                        <button class="time-btn active" onclick="changeRange('cb', 12)">1å¹´</button>
                        <button class="time-btn" onclick="changeRange('cb', 36)">å…¨éƒ¨</button>
                    </div>
                    <div class="chart-container"><div id="chartCB" class="chart-box"></div></div>
                </div>
            </div>
            
            <div id="tab-cbas" class="tab-content">
                <div class="info-card">
                    <div class="card-title">ğŸ’ CBASæ¬Šåˆ©é‡‘èµ°å‹¢ (å«æˆäº¤é‡)</div>
                    <div class="time-range-btns">
                        <button class="time-btn" onclick="changeRange('cbas', 3)">3å€‹æœˆ</button>
                        <button class="time-btn" onclick="changeRange('cbas', 6)">6å€‹æœˆ</button>
                        <button class="time-btn active" onclick="changeRange('cbas', 12)">1å¹´</button>
                        <button class="time-btn" onclick="changeRange('cbas', 36)">å…¨éƒ¨</button>
                    </div>
                    <div class="chart-container"><div id="chartCBAS" class="chart-box"></div></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const cbData = [
            {date: "22-04", price: 107.65, vol: 16},{date: "22-05", price: 105.72, vol: 85},{date: "22-06", price: 106.04, vol: 51},{date: "22-07", price: 106.82, vol: 60},
            {date: "22-08", price: 108.81, vol: 242},{date: "22-09", price: 110.64, vol: 262},{date: "22-10", price: 109.12, vol: 126},{date: "22-11", price: 104.11, vol: 88},
            {date: "22-12", price: 102.17, vol: 123},{date: "23-01", price: 100.53, vol: 97},{date: "23-02", price: 100.58, vol: 143},{date: "23-03", price: 102.13, vol: 198},
            {date: "23-04", price: 102.88, vol: 156},{date: "23-05", price: 105.43, vol: 287},{date: "23-06", price: 107.92, vol: 324},{date: "23-07", price: 111.28, vol: 456},
            {date: "23-08", price: 116.44, vol: 589},{date: "23-09", price: 122.18, vol: 723},{date: "23-10", price: 129.4, vol: 891},{date: "23-11", price: 125.67, vol: 645},
            {date: "23-12", price: 118.92, vol: 478},{date: "24-01", price: 112.35, vol: 567},{date: "24-02", price: 105.78, vol: 432},{date: "24-03", price: 99.45, vol: 389},
            {date: "24-04", price: 95.23, vol: 312},{date: "24-05", price: 96.87, vol: 245},{date: "24-06", price: 98.56, vol: 198},{date: "24-07", price: 99.78, vol: 167},
            {date: "24-08", price: 100.45, vol: 134},{date: "24-09", price: 100.89, vol: 112},{date: "24-10", price: 101.23, vol: 89},{date: "24-11", price: 101.56, vol: 67},
            {date: "24-12", price: 101.34, vol: 45},{date: "25-01", price: 101.47, vol: 284},{date: "25-02", price: 99.91, vol: 24},{date: "25-03", price: 99.62, vol: 2}
        ];

        const cbasData = [
            {date: "22-04", premium: 12.45, vol: 50},{date: "22-05", premium: 15.32, vol: 85},{date: "22-06", premium: 18.76, vol: 51},{date: "22-07", premium: 22.45, vol: 60},
            {date: "22-08", premium: 26.89, vol: 242},{date: "22-09", premium: 31.56, vol: 262},{date: "22-10", premium: 28.34, vol: 126},{date: "22-11", premium: 24.67, vol: 88},
            {date: "22-12", premium: 21.45, vol: 123},{date: "23-01", premium: 18.23, vol: 97},{date: "23-02", premium: 16.78, vol: 143},{date: "23-03", premium: 19.34, vol: 198},
            {date: "23-04", premium: 20.12, vol: 156},{date: "23-05", premium: 23.56, vol: 287},{date: "23-06", premium: 26.78, vol: 324},{date: "23-07", premium: 30.45, vol: 456},
            {date: "23-08", premium: 35.67, vol: 589},{date: "23-09", premium: 42.89, vol: 723},{date: "23-10", premium: 38.45, vol: 891},{date: "23-11", premium: 32.78, vol: 645},
            {date: "23-12", premium: 28.56, vol: 478},{date: "24-01", premium: 24.34, vol: 567},{date: "24-02", premium: 20.12, vol: 432},{date: "24-03", premium: 16.78, vol: 389},
            {date: "24-04", premium: 14.56, vol: 312},{date: "24-05", premium: 12.34, vol: 245},{date: "24-06", premium: 10.89, vol: 198},{date: "24-07", premium: 9.45, vol: 167},
            {date: "24-08", premium: 8.23, vol: 134},{date: "24-09", premium: 7.12, vol: 112},{date: "24-10", premium: 5.89, vol: 89},{date: "24-11", premium: 4.56, vol: 67},
            {date: "24-12", premium: 3.45, vol: 45},{date: "25-01", premium: 2.34, vol: 284},{date: "25-02", premium: 1.23, vol: 24},{date: "25-03", premium: 0.56, vol: 2}
        ];

        let cbChart, cbasChart;

        function backToHome() {
            document.getElementById('home').style.display = 'flex';
            document.getElementById('detail').classList.remove('active');
        }

        function quickSearch(code) {
            document.getElementById('cbInput').value = code;
            searchCB();
        }

        function searchCB() {
            document.getElementById('home').style.display = 'none';
            document.getElementById('detail').classList.add('active');
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(`tab-${tab}`).classList.add('active');
            if (tab === 'chart' && !cbChart) initCBChart();
            if (tab === 'cbas' && !cbasChart) initCBASChart();
        }

        function changeRange(type, months) {
            const btns = event.target.parentElement.querySelectorAll('.time-btn');
            btns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            if (type === 'cb') updateCBChart(months);
            else updateCBASChart(months);
        }

        function initCBChart() {
            cbChart = echarts.init(document.getElementById('chartCB'));
            updateCBChart(12);
        }

        function updateCBChart(months) {
            const data = cbData.slice(-months);
            cbChart.setOption({
                tooltip: { trigger: 'axis', axisPointer: { type: 'cross' } },
                grid: { left: 50, right: 40, bottom: 80, top: 40, containLabel: false },
                xAxis: { type: 'category', data: data.map(d => d.date), axisLabel: { interval: 0, rotate: 45, fontSize: 9 } },
                yAxis: [
                    { type: 'value', name: 'åƒ¹æ ¼', nameTextStyle: { fontSize: 11 }, axisLabel: { fontSize: 10 } },
                    { type: 'value', name: 'æˆäº¤é‡', position: 'right', nameTextStyle: { fontSize: 11 }, axisLabel: { fontSize: 10 } }
                ],
                series: [
                    { name: 'åƒ¹æ ¼', type: 'line', data: data.map(d => d.price), smooth: true, lineStyle: { width: 2, color: '#667eea' }, symbol: 'circle', symbolSize: 4 },
                    { name: 'æˆäº¤é‡', type: 'bar', yAxisIndex: 1, data: data.map(d => d.vol), itemStyle: { color: 'rgba(102,126,234,0.3)' } }
                ]
            });
        }

        function initCBASChart() {
            cbasChart = echarts.init(document.getElementById('chartCBAS'));
            updateCBASChart(12);
        }

        function updateCBASChart(months) {
            const data = cbasData.slice(-months);
            cbasChart.setOption({
                tooltip: { trigger: 'axis', axisPointer: { type: 'cross' } },
                grid: { left: 50, right: 40, bottom: 80, top: 40, containLabel: false },
                xAxis: { type: 'category', data: data.map(d => d.date), axisLabel: { interval: 0, rotate: 45, fontSize: 9 } },
                yAxis: [
                    { type: 'value', name: 'æ¬Šåˆ©é‡‘', nameTextStyle: { fontSize: 11 }, axisLabel: { fontSize: 10 } },
                    { type: 'value', name: 'CBASæˆäº¤é‡', position: 'right', nameTextStyle: { fontSize: 11 }, axisLabel: { fontSize: 10 } }
                ],
                series: [
                    { name: 'æ¬Šåˆ©é‡‘', type: 'line', data: data.map(d => d.premium), smooth: true, lineStyle: { width: 3, color: '#ff9800' }, symbol: 'circle', symbolSize: 6 },
                    { name: 'CBASæˆäº¤é‡', type: 'bar', yAxisIndex: 1, data: data.map(d => d.vol), itemStyle: { color: 'rgba(255,152,0,0.3)' } }
                ]
            });
        }

        window.addEventListener('resize', () => {
            if (cbChart) cbChart.resize();
            if (cbasChart) cbasChart.resize();
        });
    </script>
</body>
</html>
